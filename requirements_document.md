# AI BaZi Intelligence Agent Requirements Document

## 项目概述

### 项目名称
AI八字智能体 (AI BaZi Intelligence Agent)

### 项目描述
本项目是一个基于人工智能的八字命理预测系统，旨在为用户提供个性化的命理分析和预测服务。系统采用现代化的技术栈，结合传统命理学知识和AI技术，为用户提供准确、专业的八字分析。

### 项目定位
- 这是一个演示性质的项目(Demo)
- 不涉及复杂的后端数据库设计
- 无需用户身份验证系统
- 专注于核心功能实现

## 功能需求

### 核心功能

#### 1. 用户信息收集
- **出生日期输入**：支持公历日期选择
- **出生时间输入**：精确到小时和分钟
- **性别选择**：男性/女性选项
- **出生地点**：省市区域选择（用于时区校正）
- **姓名输入**：可选项，用于个性化展示

#### 2. 八字计算与分析
- **自动八字排盘**：根据用户输入信息自动计算四柱八字
- **五行分析**：分析八字中五行的强弱分布
- **十神关系**：计算并展示十神配置
- **大运流年**：显示当前大运和流年信息

#### 3. AI命理预测
- **调用DeepSeek R1命理API**：获取专业的命理分析数据
- **多维度分析**：
  - 性格特征分析
  - 事业运势预测
  - 财运分析
  - 感情婚姻运势
  - 健康状况提醒
  - 流年运势概览

#### 4. 智能回答生成
- **调用ChatDeepSeek R1**：基于命理分析数据生成用户友好的回答
- **个性化表达**：根据用户信息调整回答风格
- **结构化输出**：清晰的分类展示各项分析结果

### 用户界面需求

#### 1. 首页设计
- **简洁明了的标题**：突出AI八字智能体主题
- **功能介绍**：简要说明系统功能和使用方法
- **开始按钮**：引导用户进入信息输入页面

#### 2. 信息输入页面
- **表单设计**：直观的信息输入表单
- **输入验证**：确保用户输入的有效性
- **进度指示**：显示当前输入进度
- **提交按钮**：触发八字分析流程

#### 3. 结果展示页面
- **八字排盘显示**：清晰展示用户的四柱八字
- **分析结果展示**：分类显示各项命理分析
- **可视化元素**：使用图表或图形增强展示效果
- **导出功能**：支持结果保存或分享

## 技术需求

### 前端技术栈
- **框架**：Streamlit
- **编程语言**：Python
- **UI组件**：Streamlit内置组件
- **样式**：CSS自定义样式（可选）

### 后端服务
- **API集成**：
  - DeepSeek R1命理API
  - ChatDeepSeek R1 API
- **数据处理**：Python数据处理库
- **八字计算**：传统历法转换算法

### 第三方服务
- **DeepSeek R1命理API**：提供专业命理分析数据
- **ChatDeepSeek R1**：生成自然语言回答

## 非功能性需求

### 性能要求
- **响应时间**：单次分析请求响应时间不超过30秒
- **并发处理**：支持多用户同时使用
- **稳定性**：系统运行稳定，错误率低于5%

### 用户体验
- **界面友好**：简洁直观的用户界面
- **操作简单**：最少的用户输入步骤
- **结果清晰**：易于理解的分析结果展示

### 兼容性
- **浏览器支持**：主流浏览器兼容
- **设备适配**：支持桌面和移动设备访问

## 项目约束

### 技术约束
- 不使用复杂的后端数据库
- 不实现用户注册和登录功能
- 不保存用户历史数据
- 专注于核心功能演示

### 业务约束
- 仅作为技术演示项目
- 不涉及商业化运营
- 结果仅供娱乐参考

## 开发计划

### 第一阶段：基础框架搭建
- 搭建Streamlit应用框架
- 设计用户信息输入界面
- 实现基础的八字计算功能

### 第二阶段：API集成
- 集成DeepSeek R1命理API
- 集成ChatDeepSeek R1 API
- 实现数据流转逻辑

### 第三阶段：界面优化
- 优化用户界面设计
- 完善结果展示页面
- 添加错误处理机制

### 第四阶段：测试与部署
- 功能测试和性能优化
- 用户体验测试
- 项目部署和文档完善

## 风险评估

### 技术风险
- **API稳定性**：第三方API服务的稳定性和可用性
- **数据准确性**：八字计算和命理分析的准确性
- **性能瓶颈**：API调用延迟可能影响用户体验

### 解决方案
- 实现API调用重试机制
- 添加本地缓存减少重复计算
- 优化用户界面提供加载状态反馈

## 成功标准

### 功能完整性
- 所有核心功能正常运行
- 用户可以完整体验从输入到结果的全流程
- API集成稳定可靠

### 用户体验
- 界面操作直观简单
- 分析结果清晰易懂
- 系统响应及时

### 技术指标
- 代码结构清晰，易于维护
- 错误处理完善
- 系统运行稳定